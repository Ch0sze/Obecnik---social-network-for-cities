<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<style>
    .sidebar-lsb {
        width: 260px;
        min-height: 100vh;
        background-color: #FFFAEF;
        padding: 20px;
        display: flex;
        flex-direction: column;
    }

    .logo-container-lsb {
        display: flex;
        align-items: center;
        margin-bottom: 40px;
    }

    .logo-container-lsb img {
        width: 48px;
        height: 48px;
        object-fit: contain;
        margin-right: 10px;
    }

    /* Horizontal avatar scroll */
    .avatar-scroll-lsb {
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
        margin-bottom: 20px;
        padding-bottom: 6px;
        gap: 12px; /* Increased gap between avatar buttons */
        display: flex;
        justify-content: flex-start; /* Align avatars to the left */
    }

    .avatar-scroll-lsb::-webkit-scrollbar {
        height: 4px;
    }

    .avatar-scroll-lsb::-webkit-scrollbar-thumb {
        background-color: rgba(0, 0, 0, 0.2);
        border-radius: 10px;
    }

    .avatar-scroll-lsb .avatar-btn-lsb {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        object-fit: cover;
        display: inline-block;
        flex-shrink: 0;
        border: none;
        cursor: pointer;
    }

    .avatar-scroll-lsb .add-btn-lsb {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: #F98866;
        color: white;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 22px; /* Reduced icon size */
        flex-shrink: 0;
        cursor: pointer;
        border: none;
    }

    .add-btn-lsb .material-icons {
        font-size: 24px; /* Adjusted icon size */
    }

    /* Navigation styling */
    .nav-item-lsb {
        padding: 12px 0;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .nav-item-lsb:not(:last-child) {
        border-bottom: 1px solid #e7e5e4;
    }

    .nav-item-lsb a {
        text-decoration: none;
        color: #4a4a4a; /* Darker for better contrast */
        display: flex;
        align-items: center;
        width: 100%;
        font-size: 14px;
        font-weight: 500; /* Medium weight */
    }

    .nav-item-lsb .material-icons {
        font-size: 26px;
        color: #F98866;
    }

    /* Active nav */
    .nav-item-lsb.active-lsb a {
        font-weight: bold;
    }

    .nav-item-lsb.active-lsb .material-icons {
        background: #FFFAEF;
        border-radius: 50%;
        padding: 6px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .nav-item-lsb.active-lsb::after {
        content: '';
        display: block;
        height: 3px;
        width: 50%;
        background: #F98866;
        position: absolute;
        bottom: 0;
        left: 25%;
        border-radius: 2px;
    }

    .user-item-lsb {
        display: flex;
        align-items: center;
        margin-bottom: 16px;
    }

    .avatar-btn-lsb {
        width: 42px;
        height: 42px;
        border-radius: 50%;
        overflow: hidden;
        margin-right: 6px;
        padding: 0;
        border: 2px solid white;
        box-shadow: 0 1px 4px rgba(0,0,0,0.1);
        background: none;
        cursor: pointer;
    }

    .avatar-btn-lsb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* Dot for notification */
    .nav-item-lsb .dot-lsb {
        width: 8px;
        height: 8px;
        background: #F98866;
        border-radius: 50%;
        margin-left: auto;
    }
</style>

<div class="sidebar-lsb">
    <!-- Logo -->
    <div class="logo-container-lsb">
        <img src="~/image.png" alt="Logo">
        <h4>OBECNÍK</h4>
    </div>

    <!-- Horizontally scrollable Avatars -->
    <div class="avatar-scroll-lsb" id="avatar-container-lsb">
        <button class="avatar-btn-lsb" onclick="handleAvatarClick('1')">
            <img src="~/wwwroot/Images/obec.jpg" alt="Obec" class="avatar-lsb">
        </button>
        <button class="avatar-btn-lsb" onclick="handleAvatarClick('2')">
            <img src="~/wwwroot/Images/obec.jpg" alt="Obec" class="avatar-lsb">
        </button>
        <button class="avatar-btn-lsb" onclick="handleAvatarClick('3')">
            <img src="~/wwwroot/Images/obec.jpg" alt="Obec" class="avatar-lsb">
        </button>
        <button class="avatar-btn-lsb" onclick="handleAvatarClick('4')">
            <img src="~/wwwroot/Images/obec.jpg" alt="Obec" class="avatar-lsb">
        </button>
        <button class="add-btn-lsb" id="add-avatar-btn-lsb" type="button">
            <span class="material-icons">add</span>
        </button>
    </div>

    <!-- Navigation -->
    <div id="nav-links-lsb">
        <!-- Dynamic content via JS -->
    </div>
</div>

<script>
    const navItems = [
        { icon: '', label: 'Bazar', link: '#', active: false, dot: false },
        { icon: '', label: 'Pejskaři', link: '#', active: false, dot: true },
        { icon: '', label: 'Ztráty a nálezy', link: '#', active: false, dot: false },
        { icon: '', label: 'Stížnosti', link: '#', active: false, dot: true }
    ];

    const navContainer = document.getElementById('nav-links-lsb');

    navItems.forEach(item => {
        const div = document.createElement('div');
        div.className = `nav-item-lsb${item.active ? ' active-lsb' : ''}`;

        div.innerHTML = `
            <a href="${item.link}">
                ${item.icon ? `<span class="material-icons me-3">${item.icon}</span>` : '<span class="material-icons me-3" style="opacity: 0;">place</span>'}
                <span>${item.label}</span>
                ${item.dot ? `<span class="dot-lsb ms-auto"></span>` : ''}
            </a>
        `;

        navContainer.appendChild(div);
    });

    // Enable horizontal scrolling with mouse wheel inside the avatar-scroll area
    const avatarScroll = document.getElementById('avatar-container-lsb');

    avatarScroll.addEventListener('wheel', (event) => {
        if (event.deltaY !== 0) {
            event.preventDefault(); // Prevent vertical scroll on body when hovering
            avatarScroll.scrollLeft += event.deltaY; // Scroll horizontally instead
        }
    });

    // Handle avatar button click
    function handleAvatarClick(avatarId) {
        alert(`Avatar ${avatarId} clicked!`);
    }
</script>

